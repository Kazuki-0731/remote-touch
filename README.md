## 3. RemoteTouch（macOSカーソル操作リモコンアプリ）

### アプリ概要
iPhoneをmacOSのリモコンとして使用できるBluetooth接続アプリ。離れた場所からプレゼンテーション操作やメディア再生コントロールを実現。

### 画面設計

```
┌─────────────────────────┐
│                         │
│   ┌─────────────────┐   │
│   │                 │   │
│   │                 │   │
│   │   タッチパッド   │   │
│   │   エリア        │   │
│   │                 │   │
│   │   (スワイプで    │   │
│   │    カーソル移動) │   │
│   │                 │   │
│   └─────────────────┘   │
│                         │
│   ┌─────┐   ┌─────┐    │
│   │  ←  │   │  →  │    │
│   │     │   │     │    │
│   └─────┘   └─────┘    │
│    戻る       決定      │
│                         │
│   接続状態: ● Mac mini  │
└─────────────────────────┘
```

### 主要機能

#### 3.1 タッチパッドコントロール
- **スワイプジェスチャー**: 上下左右のスワイプでカーソル移動
- **感度調整**: スワイプ速度に応じたカーソル移動速度の変更
- **タップ操作**: シングルタップでクリック、ダブルタップでダブルクリック
- **ピンチ操作**: 2本指ピンチでズームイン/アウト（対応アプリのみ）

#### 3.2 物理ボタン
- **←ボタン**:
  - ブラウザ/Finderで「戻る」操作
  - プレゼンテーション時はスライド前へ
- **→ボタン**:
  - 決定/Enter操作
  - プレゼンテーション時はスライド次へ

#### 3.3 BLE接続管理
- **自動再接続**: 範囲内にあるmacOSデバイスを自動検出
- **複数デバイス登録**: 最大5台までのMac登録・切り替え
- **接続状態表示**: リアルタイム接続ステータスとバッテリー情報

#### 3.4 プリセットモード
- **プレゼンテーションモード**: スライド操作に特化したUI
- **メディアコントロールモード**: 再生/一時停止/音量調整
- **基本マウスモード**: 標準的なマウス操作

### 技術スタック
- **フロントエンド**: Swift (iOS) / SwiftUI
- **Mac側ソフトウェア**: Swift (macOS) / AppKit
- **通信**: Core Bluetooth (BLE)
- **認証**: Bonjour + ペアリングコード
- **入力制御**: macOS CGEvent API

### 主要画面構成
1. デバイス選択画面（Mac一覧・ペアリング）
2. メインコントロール画面（タッチパッド）
3. モード選択画面（プレゼン/メディア/基本）
4. 設定画面（感度調整・ボタンカスタマイズ）

### ユースケース
- プレゼンテーション時にステージから操作
- ベッドからMac miniのメディア再生をコントロール
- リビングのテレビ接続Mac miniをソファから操作
- 会議室のプロジェクター接続Macを席から操作

### 技術的課題と解決策
- **レイテンシ対策**: BLE 4.2以上での低遅延通信
- **セキュリティ**: ペアリング時のワンタイムコード認証
- **省電力**: アイドル時の自動スリープ機能
- **macOS権限**: アクセシビリティ権限の適切な取得フロー

